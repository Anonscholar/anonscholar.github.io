\chapter{Curvilinear Co-ordinate Systems}

Aside from the familiar cartesian co-ordinate system, we primarily 
deal with two \chvocab{Co-ordinate System}{curvilinear} co-ordinate systems --- 
\chvocab{Co-ordinate System}{spherical} and, \chvocab{Co-ordinate System}{cylindrical}
co-ordinate systems.

% Spherical Coordinates 
\tdplotsetmaincoords{70}{110}
%
\pgfmathsetmacro{\thetavec}{48.17}
\pgfmathsetmacro{\phivec}{63.5}
%
\begin{marginfigure}
\hspace{-2em}
\begin{subfigure}{\marginparwidth}
    
\scalebox{0.75}{
\begin{tikzpicture}[tdplot_main_coords]
    %Axis
    \draw[axis] (0,0,0) -- (6.5,0,0) node [pos=1.1] {$x$};
    \draw[axis] (0,0,0) -- (0,6,0) node [pos=1.05] {$y$};
    \draw[axis] (0,0,0) -- (0,0,5.5)  node [pos=1.05] {$z$};   
    
    %Unit Vectors
%       \tdplotsetcoord{p}{1}{90}{\phivec}
%       \draw[univec] (2,4,0) -- ($(p)+(2,4,0)$) node [pos=1.35] {$\vu*{\varpi}$};
    \tdplotsetcoord{P'}{7}{\thetavec}{\phivec}
    \draw[univec] (0,0,0) -- (P') node [pos=1.05] {$\vu{r}$};
    \tdplotsetcoord{P''}{1}{90}{90+\phivec}
    \draw[univec] (2,4,0) -- ($(P'') + (2,4,0)$) node [pos=1.4] {$\vu*{\varphi}$};
    \tdplotsetcoord{P'''}{1}{90+\thetavec}{\phivec}
    \draw[univec] (2,4,4) -- ($(P''') + (2,4,4)$) node [pos=1.3] {$\vu*{\vartheta}$};
    
    %Vectors
    \tdplotsetcoord{P}{6}{\thetavec}{\phivec}
    \draw[vec] (0,0,0) -- (P) node [midway, above] {$r$};
    \draw[thick] (0,0,0) -- (2,4,0);
    
    %Help Lines
    \draw[dashed] (2,4,4) -- (2,4,0);
    \draw[dashed] (2,0,0) -- (2,4,0) node [pos=-0.1] {$x$};
    \draw[dashed] (0,4,0) -- (2,4,0) node [pos=-0.3] {$y$};
    \draw[dashed] (0,0,4) -- (2,4,4) node [pos=-0.1] {$z$};
    \draw[dashed, tdplot_main_coords] (4.47,0,0) arc (0:90:4.47);
    
    %Point
    \node[fill=black, circle, inner sep=0.8pt] at (2,4,4) {};
    
    %Angles
    \tdplotdrawarc{(0,0,0)}{0.7}{0}{\phivec}{below}{$\varphi$}
     
    \tdplotsetthetaplanecoords{\phivec}
    \tdplotdrawarc[tdplot_rotated_coords]{(0,0,0)}{0.5}{0}{\thetavec}{}{}
    \node at (0,0.25,0.67) {$\vartheta$};
    
\end{tikzpicture}}
\caption{Spherical Co-ordinates}
\end{subfigure}

\begin{subfigure}{\marginparwidth}
\scalebox{0.75}{
\begin{tikzpicture}[tdplot_main_coords]
    %Axis
    \draw[axis] (0,0,0) -- (6,0,0) node [pos=1.1] {$x$};
    \draw[axis] (0,0,0) -- (0,6,0) node [pos=1.05] {$y$};
    \draw[axis] (0,0,0) -- (0,0,5.5)  node [pos=1.05] {$z$};   
    
    %Help Lines
    \draw[dashed] (2,4,4) -- (2,4,0);
    \draw[dashed] (2,0,0) -- (2,4,0) node [pos=-0.1] {$x$};
    \draw[dashed] (0,4,0) -- (2,4,0) node [pos=-0.35, left] {$y$};
    \draw[dashed] (0,0,4) -- (2,4,4) node [pos=-0.1] {$z$};
    \draw[dashed, tdplot_main_coords] (4.47,0,0) arc (0:90:4.47);
    
    %Unit Vectors
    \tdplotsetcoord{P'}{1}{90}{\phivec}
    \draw[univec] (2,4,0) -- ($(P')+(2,4,0)$) node [pos=1.3] {$\vu*{\varpi}$};
    \tdplotsetcoord{P''}{1}{90}{90+\phivec}
    \draw[univec] (2,4,0) -- ($(P'') + (2,4,0)$) node [pos=1.3] {$\vu*{\varphi}$};
    
    %Vectors
    \tdplotsetcoord{P}{6}{\thetavec}{\phivec}
    \draw[vec] (0,0,0) -- (P);
    \draw[thick] (0,0,0) -- (2,4,0) node [pos=0.6, above] {$\varpi$};
    
    %Point
    \node[fill=black, circle, inner sep=0.8pt] at (2,4,4) {};
    
    %Angles
    \tdplotdrawarc{(0,0,0)}{0.7}{0}{\phivec}{below}{$\varphi$}
    
\end{tikzpicture}}
\caption{Cylindrical Co-ordinates}
\end{subfigure}

\caption{Unit vectors in curvilinear co-ordinate systems.}

\end{marginfigure}