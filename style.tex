\usepackage{amsmath, amssymb}

\nonzeroparskip
\usepackage[right=5cm,left=2cm,bottom=1in,top=1in,marginparwidth=3.75cm,marginparsep=.5cm]{geometry}


\usepackage[texindy]{imakeidx}
\makeindex[intoc]

\usepackage[dvipsnames]{xcolor}

\usepackage[]{minitoc}
\doparttoc[n]
\renewcommand\beforeparttoc{{\bfseries \Large Part \thepart: Contents}}
\usepackage{etoolbox}

\usepackage{booktabs, tabularx}
\setlength{\parindent}{0em}


%Chapter Style
\usepackage{calc,color}
\newif\ifNoChapNumber
\newcommand\Vlines{%
\def\VL{\rule[-1cm]{1pt}{2.3cm}\hspace{1mm}\relax}
\VL\VL\VL\VL\VL\VL\VL}
\makeatletter
\setlength\midchapskip{0pt}
\makechapterstyle{VZ43}{
\renewcommand\chapternamenum{}
\renewcommand\printchaptername{}
\renewcommand\printchapternum{}
\renewcommand\chapnumfont{\Huge\em\centering}
\renewcommand\chaptitlefont{\Huge\bfseries\raggedright}
\renewcommand\printchaptertitle[1]{%
\Vlines\hspace*{-2em}%
\begin{tabular}{@{}p{1cm} p{\textwidth-3cm}}%
\ifNoChapNumber\relax\else%
\colorbox{black}{\color{white}%
\makebox[.8cm]{\chapnumfont\strut \thechapter}}
\fi

& \chaptitlefont ##1
\end{tabular}
\NoChapNumberfalse
}
\renewcommand\printchapternonum{\NoChapNumbertrue}
}
\makeatother
\chapterstyle{ger}
% ===== FRONT MATTER CHAPTER STYLE
\makechapterstyle{frontmatter}{% Front matter chapter style
  \chapterstyle{ger}% Or whatever you consider to be default
}
% ===== MAIN MATTER CHAPTER STYLE
\makechapterstyle{mainmatter}{% Main matter chapter style
  \chapterstyle{VZ43}% Or whatever you consider to be default
}
% ===== BACK MATTER CHAPTER STYLE
\makechapterstyle{backmatter}{% Back matter chapter style
  \chapterstyle{frontmatter}% Backmatter chapterstyle is similar to frontmatter
}

\makeatletter
\renewcommand{\partnumberline}[1]{Part \bfseries#1:~}
\renewcommand*{\l@part}[2]{%
  \ifnum \c@tocdepth >-2\relax
    \cftpartbreak
    \begingroup
      {
        \setlength{\memRTLleftskip}{0pt}
        \setlength{\memRTLrightskip}{0pt}
        \interlinepenalty\@M
        \centering
        \cftpartfont #1
        \par
      }
      \nobreak
        \global\@nobreaktrue
        \everypar{\global\@nobreakfalse\everypar{}}%
    \endgroup
  \fi}
\makeatother
\renewcommand{\cftpartfont}{\large\normalfont}

\let\oldfrontmatter\frontmatter
\renewcommand{\frontmatter}{\chapterstyle{frontmatter}\oldfrontmatter}
\let\oldmainmatter\mainmatter
\renewcommand{\mainmatter}{\chapterstyle{mainmatter}\oldmainmatter}
\let\oldbackmatter\backmatter
\renewcommand{\backmatter}{\chapterstyle{backmatter}\oldbackmatter}


\usepackage[object=vectorian]{pgfornament}
\usepackage{xparse}
\usepackage{lipsum}

\usepackage{titling}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\nouppercaseheads
\makepagestyle{mystyle}
\copypagestyle{mystyle}{companion}
\makeevenhead{mystyle}{\em\thepage}{}{\emph{\thechapter.\,\leftmark}}
\makeoddhead{mystyle}{\emph{\rightmark}}{}{\em\thepage}
\makeevenfoot{mystyle}{}{}{}
\makeoddfoot{mystyle}{}{}{}
\makepsmarks{mystyle}{%
  \createmark{chapter}{left}{nonumber}{}{}}
  \setlength{\headwidth}{\textwidth}
  \addtolength{\headwidth}{\marginparsep}
\addtolength{\headwidth}{\marginparwidth}

\makeheadrule{mystyle}{\headwidth}{\normalrulethickness}

 \nouppercaseheads 

\pagestyle{mystyle}

\copypagestyle{chapter}{plain}
\makeoddfoot{chapter}{}{}{\rule[0cm]{0.8cm}{0.12cm}\\\emph{\thepage}}

\copypagestyle{part}{plain}
\makeoddfoot{part}{}{}{\rule[0cm]{0.8cm}{0.12cm}\\\emph{\thepage}}


%some graph stuff
\usepackage{todonotes}
\usepackage{tikz}
  \usetikzlibrary{arrows.meta,backgrounds}
\usepackage{pgfplots}
\pgfplotsset{width=7cm,compat=1.18}
\pgfplotsset{
    funcgraphbare/.style={
        axis x line=center,
        axis y line=center,
        ticks=none,
    },
    funcgraph/.style={
        funcgraphbare,
        xlabel={\(x\)},
        ylabel={\(y\)},
    },
}


\usepackage{physics}
\usepackage{tkz-euclide}

\usepackage{babel}
\usepackage{mhchem}
\usepackage[cleanlook,british]{isodate}% day-first date
\usepackage{caption}
\usepackage{paralist}
\usepackage{graphicx}
\usepackage{import}
\usepackage{xifthen}

\usepackage{siunitx}
\usepackage{bohr}
\usepackage{modiagram}
\usepackage{subcaption}

\usepackage{nameref}
\usepackage{tzplot}
\usepackage{enumitem}
\newlist{axioms}{enumerate}{10}
\setlist[axioms]{label=\textbf{Axiom\,\arabic*.},ref=Axiom\arabic*,leftmargin=*}

\newlist{casework}{enumerate}{10}
\setlist[casework]{label=\textbf{Case\,\Roman*},ref=Axiom\arabic*,leftmargin=*}


\usepackage{ragged2e}
\usepackage{empheq}

\usepackage[linktoc=page]{hyperref}
\hypersetup{
colorlinks=true,
linkcolor=TealBlue!70!black,
citecolor=TealBlue,
urlcolor=TealBlue!70!black
}
\usepackage[nameinlink]{cleveref}
\usepackage{float}


\usepackage[citestyle=alphabetic]{biblatex}
\usepackage{listings}
\definecolor{codegreen}{rgb}{0,0.6,0}
\definecolor{codegray}{rgb}{0.5,0.5,0.5}
\definecolor{codepurple}{rgb}{0.58,0,0.82}
\definecolor{backcolour}{rgb}{0.95,0.95,0.92}

\lstdefinestyle{mystyle}{
    backgroundcolor=\color{backcolour},   
    commentstyle=\color{codegreen},
    keywordstyle=\color{magenta},
    numberstyle=\tiny\color{codegray},
    stringstyle=\color{codepurple},
    basicstyle=\ttfamily\footnotesize,
    breakatwhitespace=false,         
    breaklines=true,                 
    captionpos=b,                    
    keepspaces=true,                 
    numbers=left,                    
    numbersep=5pt,                  
    showspaces=false,                
    showstringspaces=false,
    showtabs=false,                  
    tabsize=2
}

\lstset{style=mystyle}


\usetikzlibrary{decorations.markings}
\tikzset{
    arrow inside/.style = {
        postaction = {
            decorate,
            decoration={
                markings,
                mark=at position #1 with {\arrow{>}}
            }
        }
    },
    arrow inside/.default = 0.5
}

\raggedbottom
\newcommand{\incfig}[1]{%
    \def\svgwidth{\columnwidth}
    \scalebox{.5}{\import{../figures/}{#1.pdf_tex}}
}

\usepackage{epigraph}

\setlength\epigraphwidth{8cm}

\makeatletter
\patchcmd{\epigraph}{\@epitext{#1}}{\itshape\@epitext{#1}}{}{}
\makeatother

\usepackage{collectbox}

\makeatletter
\newcommand{\mybox}{%
    \collectbox{%
        \setlength{\fboxsep}{1pt}%
        \fbox{\BOXCONTENT}%
    }%
}
\makeatother

\usepackage{cleveref}

\crefformat{section}{\S#2#1#3} % see manual of cleveref, section 8.2.1
\crefformat{subsection}{\S#2#1#3}
\crefformat{subsubsection}{\S#2#1#3}


\renewcommand*{\thepart}{\color{purple}\Alph{part}}
\renewcommand*{\parttitlefont}{\color{black}\sffamily\HUGE}
\renewcommand*{\partnamefont}{\normalfont\Huge\scshape\MakeLowercase}
\renewcommand*{\partnumfont}{\color{black}\normalfont\scshape\MakeLowercase}

\setsechook{\hangsecnum}

\makeatletter

\renewcommand{\hangsecnum}{%
  \def\@seccntformat##1{%
    \makebox[0pt][r]{%
      \color{purple}  \S
      {%
      \csname the##1\endcsname
      }
      \, 
    }%
  }%
}

\setsecnumdepth{subsection}

\setsubsechook{\hangsecnum}
\setsubsubsechook{\hangsecnum}


\makeatletter                   
\def\printauthor{%                  
    {\large \@author}}          
\makeatother

\usepackage{fontawesome5}

\makeatletter
\newcommand{\github}[1]{%
   \href{#1}{\textcolor{black}{\faGithub}}%
}
\makeatother

\usepackage{authblk}

\author{
    \github{https://github.com/Anonscholar} Adyansh Mishra
}

\newcommand*{\email}[1]{%
    \normalsize\href{mailto:#1}{#1}\par
    }

\affil{\email{adyanshmishra@proton.me}}


\newcommand*{\titleSW}{\begin{titlingpage}
\begingroup% Story of Writing
\raggedleft
\vspace*{\baselineskip}
{\HUGE\itshape \thetitle}\\[\baselineskip]
\vspace{3em}
{\printauthor}
\vfill
\vspace*{\baselineskip}
\endgroup
\end{titlingpage}}

\usepackage{ellipsis}
\batchmode

\usetikzlibrary{patterns,decorations.pathmorphing}
\usetikzlibrary{arrows.meta}
\tikzset{>=latex}

\colorlet{mydarkblue}{blue!50!black}
\colorlet{myblue}{blue!30}
\colorlet{mydarkred}{red!60!black}
\colorlet{myred}{red!30}
\colorlet{mydarkgreen}{green!60!black}
\colorlet{mygreen}{green!30}
\colorlet{mydarkorange}{yellow!40!red}
\colorlet{myorange}{yellow!80!red}
\colorlet{myyellow}{yellow!80}
\colorlet{mygrey}{black!15}
\colorlet{mydarkgrey}{black!50}

\tikzstyle{piston}=[blue!40!black,top color=blue!40!black!30,bottom color=blue!40!black!30,
                    middle color=blue!50!black!15,shading angle=0]
\tikzstyle{walldark}=[blue!25!black,top color=blue!20!black!12,bottom color=blue!20!black!20,shading angle=-30]
\tikzstyle{wall}=[blue!20!black,top color=blue!35!black!6,bottom color=blue!25!black!12,shading angle=30]

% GAS MOLECULE with vector
\tikzset{
  gasparticle/.pic={
    \tikzset{/gasparticle/.cd,#1}
    \draw[-{Latex[length=4,width=3]},green!60!black,thick] (0,0) -- (\vec);
    \node[circle,fill,inner sep=1.5,ball color=black!80!blue] at (0,0) {};
  }
  /gasparticle/.search also={/tikz},
  /gasparticle/.cd,
  vec/.store in=\vec, vec={90:0.5},
}